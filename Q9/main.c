#include <stdio.h>
#include <stdlib.h>

int top=-1;
void push(int *a, int n)
{
    a[++top]= n;
}
int notthere(int *a, int n, int x)
{
    int i;
    for(i=0;i<n;i++)
    {
        if(a[i]==x)
            return 0;
    }

    return 1;
}


int main()
{

    int n,k;

    scanf("%d %d",&n, &k);

    int **arr = (int **)malloc((n+1)*sizeof(int *));
    int i,j;
    for(i=0;i<=n;i++)
        arr[i]=(int *)malloc((n+1)*sizeof(int));

    for(i=1;i<=n;i++)
        for(j=1;j<=n;j++)
            {
                if(i!=j)
                    arr[i][j]=0;
                else
                    arr[i][j]=1;
            }

    for(i=1;i<=n;i++)
{
    for(j=1;j<=n;j++)
        printf("%d ", arr[i][j]);
    printf("\n");
}

    int a,b;
    while(k!=0)
    {
            scanf("%d %d",&a,&b);
            arr[a][b]=1;
            arr[b][a]=1;
            k--;

    }

    printf("Edges added\n");
    for(i=1;i<=n;i++)
{
    for(j=1;j<=n;j++)
        printf("%d ", arr[i][j]);
    printf("\n");
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////

for(i=1;i<=n;i++)
    for(j=1;j<=n;j++)
{
    if(arr[i][j]==1)
    {
        for(k=1;k<=n;k++)
            if(arr[j][k]==1)
        {
            arr[i][k]=1;
            arr[k][i]=1;
        }
    }
}
for(i=1;i<=n;i++)
{
    for(j=1;j<=n;j++)
        printf("%d ", arr[i][j]);
    printf("\n");
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
int* stack =(int *)malloc((n+1)*sizeof(int));
for(i=0;i<=n;i++)
    stack[i]=0;
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////
int count=0;
    for(i=1;i<=n;i++)
    if(stack[i]==0)
    {

        for(j=1;j<=n;j++)
            if(arr[i][j]==1)
                stack[j]=1;

        count++;
    }

printf("%d\n", count);
}
